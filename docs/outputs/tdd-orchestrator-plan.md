# TDD 오케스트레이터 실행 계획

> **메타데이터**
>
> - Agent: tdd-orchestrator
> - Status: initialized
> - Timestamp: 2025-10-30T13:38:00Z
> - Total Cycles: 37개 (TS-001 ~ TS-037)
> - Baseline: 11 test files, 115 tests passing

## 실행 전략

### 현재 상황

- **Spec Analyzer**: ✅ 완료 (37개 테스트 시나리오 정의)
- **RED Phase**: 🔄 진행 중 (1/37 완료 - TS-001만 작성됨)
- **GREEN Phase**: ⏳ 대기 중
- **REFACTOR Phase**: ⏳ 대기 중

### 실행 순서

반복 기능 구현은 다음 순서로 진행합니다:

1. **유틸리티 함수 구현 우선** (A ~ F 그룹)
   - 반복 일정 생성의 핵심 로직
   - 엣지 케이스 처리

2. **통합 테스트** (G ~ K 그룹)
   - UI 컴포넌트와 통합
   - 전체 플로우 검증

## 사이클 그룹별 상세 계획

### 그룹 A: 기본 반복 유형 생성 (4 사이클)

**예상 소요 시간**: 약 20분 (사이클당 5분)

- **Cycle 1**: ✅ TS-001 매일 반복 일정 생성 (완료)
- **Cycle 2**: TS-002 매주 반복 일정 생성 (수요일 기준)
- **Cycle 3**: TS-003 매월 반복 일정 생성 (15일 기준)
- **Cycle 4**: TS-004 매년 반복 일정 생성

**구현 대상**: `src/utils/repeatUtils.ts` - `generateRepeatInstances()`

---

### 그룹 B: 반복 간격 처리 (3 사이클)

**예상 소요 시간**: 약 15분 (사이클당 5분)

- **Cycle 5**: TS-005 2일마다 반복
- **Cycle 6**: TS-006 3주마다 반복
- **Cycle 7**: TS-007 2개월마다 반복

**구현 대상**: `src/utils/repeatUtils.ts` - interval 로직 확장

---

### 그룹 C: 엣지케이스 - 31일 월간 반복 (3 사이클)

**예상 소요 시간**: 약 24분 (사이클당 8분)

- **Cycle 8**: TS-008 31일 월간 반복 - 기본 케이스
- **Cycle 9**: TS-009 31일 2개월마다 반복
- **Cycle 10**: TS-010 윤년 31일 월간 반복

**구현 대상**: `src/utils/repeatUtils.ts` - `isValidDayInMonth()` 추가

---

### 그룹 D: 엣지케이스 - 30일/29일 월간 반복 (3 사이클)

**예상 소요 시간**: 약 15분 (사이클당 5분)

- **Cycle 11**: TS-011 30일 월간 반복
- **Cycle 12**: TS-012 29일 월간 반복 (평년)
- **Cycle 13**: TS-013 29일 월간 반복 (윤년)

**구현 대상**: 기존 `isValidDayInMonth()` 활용

---

### 그룹 E: 엣지케이스 - 2월 29일 연간 반복 (1 사이클)

**예상 소요 시간**: 약 8분

- **Cycle 14**: TS-014 2월 29일 연간 반복

**구현 대상**: `src/utils/repeatUtils.ts` - `isLeapYear()` 추가

---

### 그룹 F: 종료 날짜 경계 처리 (3 사이클)

**예상 소요 시간**: 약 15분 (사이클당 5분)

- **Cycle 15**: TS-015 종료 날짜 포함 확인
- **Cycle 16**: TS-016 종료 날짜 경계 (주간 반복)
- **Cycle 17**: TS-017 기본 종료 날짜 설정

**구현 대상**: `src/hooks/useEventForm.ts` - 폼 로직

---

### 그룹 G: 반복 일정 수정 (3 사이클)

**예상 소요 시간**: 약 30분 (사이클당 10분)

- **Cycle 18**: TS-018 단일 수정 - 독립된 일정으로 변환
- **Cycle 19**: TS-019 전체 수정 - 모든 인스턴스 변경
- **Cycle 20**: TS-020 단일 수정 후 일반 일정 재수정

**구현 대상**: `src/hooks/useEventOperations.ts` + UI 다이얼로그

---

### 그룹 H: 반복 일정 삭제 (3 사이클)

**예상 소요 시간**: 약 30분 (사이클당 10분)

- **Cycle 21**: TS-021 단일 삭제 - 예외 목록에 추가
- **Cycle 22**: TS-022 전체 삭제 - 모든 인스턴스 제거
- **Cycle 23**: TS-023 여러 날짜 단일 삭제

**구현 대상**: `src/hooks/useEventOperations.ts` + UI 다이얼로그

---

### 그룹 I: 반복 아이콘 표시 (3 사이클)

**예상 소요 시간**: 약 15분 (사이클당 5분)

- **Cycle 24**: TS-024 반복 일정 아이콘 표시
- **Cycle 25**: TS-025 단일 수정 후 아이콘 제거
- **Cycle 26**: TS-026 일반 일정 아이콘 없음

**구현 대상**: `src/App.tsx` - 일정 렌더링 부분

---

### 그룹 J: 동적 생성 유틸리티 함수 (6 사이클)

**예상 소요 시간**: 약 30분 (사이클당 5분)

- **Cycle 27**: TS-027 generateRepeatInstances() - 기본 동작
- **Cycle 28**: TS-028 generateRepeatInstancesInRange() - 범위 제한
- **Cycle 29**: TS-029 isDateExcluded() - 예외 날짜 확인
- **Cycle 30**: TS-030 isValidDayInMonth() - 31일 검증
- **Cycle 31**: TS-031 isValidDayInMonth() - 2월 29일 검증
- **Cycle 32**: TS-032 isLeapYear() - 윤년 확인

**구현 대상**: `src/utils/repeatUtils.ts` - 헬퍼 함수들

---

### 그룹 K: 통합 테스트 (5 사이클)

**예상 소요 시간**: 약 50분 (사이클당 10분)

- **Cycle 33**: TS-033 반복 일정 생성 및 표시 (전체 플로우)
- **Cycle 34**: TS-034 반복 일정 단일 수정 및 표시 (전체 플로우)
- **Cycle 35**: TS-035 반복 일정 단일 삭제 및 표시 (전체 플로우)
- **Cycle 36**: TS-036 31일 월간 반복 생성 및 표시 (전체 플로우)
- **Cycle 37**: TS-037 2월 29일 연간 반복 생성 및 표시 (전체 플로우)

**구현 대상**: 전체 통합 (UI + 로직)

---

## 예상 총 소요 시간

- **유틸리티 함수** (A-F, J): 약 2시간 7분 (17개 사이클)
- **통합 테스트** (G-K): 약 2시간 5분 (14개 사이클)
- **버퍼 시간** (에러 복구 등): 약 30분
- **총 예상 시간**: **약 4-5시간**

## 위험 요소 및 대응

### 높은 위험

1. **31일 월간 반복 로직 복잡도**
   - 월별 일수 검증 로직 필요
   - 대응: 충분한 단위 테스트, 단계적 구현

2. **단일 수정/삭제 UI 플로우**
   - 다이얼로그 상호작용 복잡
   - 대응: 통합 테스트 신중히 작성

### 중간 위험

3. **타입 정의 변경 영향 범위**
   - Event, EventForm 타입 수정 시 기존 코드 영향
   - 대응: 타입 체크 철저히 수행

4. **성능 최적화 필요성**
   - 반복 일정 많을 경우 렌더링 성능
   - 대응: REFACTOR 단계에서 메모이제이션 추가

## 성공 기준

### 각 사이클마다

- ✅ RED: Baseline 대비 실패 수 +1 (Assertion 기반)
- ✅ GREEN: 모든 테스트 통과 + 린트 통과
- ✅ REFACTOR: 테스트 여전히 통과 + 린트 통과

### 최종 완료 시

- ✅ 모든 37개 테스트 통과
- ✅ 린트 검사 통과
- ✅ 타입 검사 통과
- ✅ 커버리지 목표 달성 (70% 이상)
- ✅ 기존 115개 테스트 여전히 통과 (회귀 없음)

## 다음 액션

1. **Cycle 2 시작**: TS-001 GREEN 단계 진행
2. **상태 문서 생성**: `tdd-orchestrator-status.md`
3. **사이클 반복**: RED → GREEN → REFACTOR
